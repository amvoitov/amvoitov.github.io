---
title: "Кейс 1: Весовая ЛИЛИАНИ"
permalink: /projects/case_1/

case_title_short: "Весовая ЛИЛИАНИ"
case_short: "Разработан и описан (ТЗ) программно-аппаратный комплекс для контроля операций загрузки/выгрузки на бункере-перегрузчике (БП): Android-приложение на планшете, сервер и веб-кабинет хозяйства. Система собирает транзакции (вес/тип операции/время/координаты), позволяет вести парк техники и сотрудников, связывать RFID-метки, строить отчёты, статистику и рейтинги производительности. Реализована многоуровневая модель доступа (админ системы / админ хозяйства / пользователи) и безопасная привязка БП к аккаунту через имя БВС и код регистрации."
case_role: "PM/PO/аналитик/архитектор"
case_period: "10.2021 → 11.2022+"
case_team: "7+ участников"
case_effect: "−70% потерь"
case_artifacts_text: "Артефакты (что могу показать)"
case_artifacts_href: "#artifacts"
---

{% include case_topbar.html %}

# Весовая ЛИЛИАНИ

## Контекст
- Заказчик/владелец продукта: внутренний департамент компании «Лилиани»
- Пользователи на технике: механизатор/оператор/инженер/агроном
- Пользователи портала аналитики: диспетчер/руководитель/служба эксплуатации/агроном

## Проблемы и решение

У агрохозяйства в сезон уборки возникает потребность прозрачно фиксировать операции (загрузка/выгрузка), контролировать объёмы и динамику уборки, а также уйти от бумажных чеков и ручной сверки. Решение должно работать в полевых условиях, включая ситуации с нестабильным интернетом.

### Проблемы клиента (Агрохолдинги/Фермерские хозяйства)

1. Нет прозрачной фиксации “кто/когда/где/сколько” по загрузкам/выгрузкам → споры и потери.
2. Нужен контроль местоположения БП и фактических точек операций на карте.
3. Руководству не хватает оперативной аналитики: динамика уборки, итоги за период, разрезы.
4. Парк техники/персонал ведутся разрозненно: сложно связывать БП, трактор, комбайн, зерновоз и ответственных.
5. Риски доступа к данным “не владельца” → нужна защищённая привязка конкретного БП к хозяйству.
6. Бумажные чеки неудобны → требуется электронный чек в мобильном приложении сотрудника.

### Реализованое решение

1. Единый контур контроля уборки: карта + календарь + список транзакций по периоду.
2. Учёт операций: фиксация загрузки/выгрузки с GPS, временем, идентификацией техники, чек.
3. Управление парком: техника/поля/сотрудники, связи “БП–трактор” + проверки, RFID.
4. Аналитика и отчётность: статистика, динамика уборки, отчёты по разрезам, выгрузка.
5. Мотивация: рейтинг сотрудников (механизаторы БП / комбайнёры / водители).
6. Безопасность владения данными: привязка БП к аккаунту через имя БВС и код, история регистраций, сценарии без интернета.
7. Электронный чек сотруднику: отдельное мобильное приложение с календарём работ и просмотром чеков.

---

## Описание проекта

Система предназначена для прозрачного учёта операций загрузка/выгрузка на бункере-перегрузчике (БП), контроля хода уборки и предотвращения несанкционированной выгрузки (“свой/чужой”). Решение включает:
    -[x] Android-приложение весовой системы на планшете в тракторе (операторский интерфейс + инженерные настройки),
    -[x] Web-кабинет агрохозяйства (карта/календарь, парк техники, сотрудники, отчёты, рейтинг),
    -[x] Мобильное приложение сотрудника (Android/iOS) для “электронных чеков” и просмотра работ по календарю.

### Требования и ограничения (ключевые)
- Точность/погрешность: ±1% от взвешиваемого веса
- Диапазон массы: до 100 т
- Условия эксплуатации: вибрации/удары
- Задержка/частота обновления на экране: минимум 10 Гц

### Архитектура и потоки данных
- Техника → Android: Bluetooth, передача “сырых значений”, Android делает фильтрацию/логику/отображение
- Оффлайн: да, хранение данных в пределах памяти устройства
- Android → Портал: мобильный интернет, отправка по событию при наличии связи; пакетами при восстановлении
- В портал уходит: веса + рейсы/события + гео + время + идентификаторы техники

### Мобильное приложение весовой системы (планшет, Android) — “полевой терминал весовой системы”

Фиксирует транзакции прямо в момент работы, показывает текущий вес, идентифицирует транспорт, печатает/хранит чеки и передаёт данные на сервер.

#### Ключевые функции:
- Отображение веса и режимов взвешивания, сохранение веса последней операции, поддержка многоинтервальности. 
- Сессии (чеки операций): хранение до 1000 операций, раздельно “распечатанные/не распечатанные”. 
- Идентификация ТС и персонала через RFID, с сценариями ручного подтверждения при проблемах распознавания.
- Подключение оборудования: принтер по Bluetooth/USB; интеграция с внешними устройствами через COM/RS-485/232.
- Журналы: действия в инженерном меню, пользовательские обнуления (с датой/временем/GPS при наличии), системные ошибки (например, перегрузка датчика дышла). 
- Инженерное меню: всегда доступно для просмотра; режим редактирования — через “защищённый” жест.
    Внутри — параметры БВС/БП, каналы и ноли, калибровка (в т.ч. сценарии 1/5 точек), тензодатчики, датчики наклона, экспорт/импорт настроек, выгрузка данных (на носитель/на сайт).
- Контроль ошибок/блокировок: обработка критичных состояний (наклон > 10°, обрыв/КЗ датчиков, BT выключен), запрет печати чека в небезопасных режимах и пользовательские уведомления. 
- Протокол обмена с телеметрией: периодические пакеты, асинхронные события (шнек/rpm/RFID), команды (keepalive, “чек выгрузки”).

### Web-кабинет агрохозяйства (карта/календарь, парк техники, сотрудники, отчёты, рейтинг)

#### Ключевой функционал

- Регистрация/авторизация с проверкой организации по ИНН через DaData.
- Роли и разграничение доступа: администратор системы, администратор хозяйства, пользователи. 
- Главная: календарь/диапазон дат + карта, список БП, раскрытие транзакций с привязкой к месту. 
- Поля: 
    - Ручная отрисовка контура поля на карте. 
    - Загрузка оцифрованного уонтура поля.
    - Культура/название.
**Расчёт площади**
- Техника: справочник техники (БП/комбайн/трактор/грузовик и др.), вкладки “информация/активность/настройки”, назначение ответственных, привязка RFID, связи “БП–трактор” с проверкой соответствия (тяговый класс/мощность). 
- Сотрудники: должности, закреплённая техника, активность. 
- Рейтинг: мотивация сотрудников (комбайнёры/механизаторы БП/водители зерновозов), возможность публикации по ссылке. 
- Статистика и отчёты: динамика уборки, лучшие дни, разрез по технике/сотрудникам/полям, выгрузка отчёта. 
- Сообщить о проблеме: обращения в сервис с хранением истории. 
- Интеграция с государственным сервисов ФГИС-Зерно

**Привязка БП к аккаунту и защита данных**
Чтобы исключить доступ “чужого” хозяйства к данным техники, описан механизм привязки: пользователь вводит имя БВС и код, который отображается/генерируется на планшете весовой системы; сверка на сервере — и только после этого БП попадает в парк техники конкретного хозяйства. Предусмотрена история регистраций; при отсутствии связи код может быть введён вручную, а финальная авторизация завершится при появлении интернета.


## Моя роль и ответственность
- Требования, план/сроки, бюджет, подрядчики
- Координация embedded/android/backend/frontend
- Организация и участие в тестировании/испытаниях, приемка
- Риски, внедрение, валидация ПО, обучение, поддержка/развитие

## Команда
- Embedded (блок): 1 (внутренний)
- Android: 1 (подрядчик)
- Backend/портал: 1 (внутренний)
- Frontend/портал: 1 (внутренний)
- QA/тесты/испытания: 3 (внутренние)
- Я: аналитик, архитектор, PM/PO, техписатель

## Этапы
1. MVP — октябрь 2021 – февраль 2022
2. Тестирования/испытания/валидация/внедрение в серийное производство — март 2022 – май 2022
3. Опытная эксплуатация — июнь 2022 – ноябрь 2022
4. Эксплуатация и поддержка, доработка нового функционала — с ноября 2022

## Результат (эффект)
- Точность учёта: +50%
- Прозрачность: +70%
- Снижение спорных ситуаций: −80%
- Потерь/воровства: −70%
- Продажи бункеров перегрузчиков: +20%

## Артефакты
<div id="artifacts"></div>

- (добавим список: ТЗ/схемы/протоколы/скриншоты/видео/акты — то, что можешь показать)
